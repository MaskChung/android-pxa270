<!--
  Licensed to the Apache Software Foundation (ASF) under one or more
  contributor license agreements.  See the NOTICE file distributed with
  this work for additional information regarding copyright ownership.
  The ASF licenses this file to You under the Apache License, Version 2.0
  (the "License"); you may not use this file except in compliance with
  the License.  You may obtain a copy of the License at

      http://www.apache.org/licenses/LICENSE-2.0

  Unless required by applicable law or agreed to in writing, software
  distributed under the License is distributed on an "AS IS" BASIS,
  WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
  See the License for the specific language governing permissions and
  limitations under the License.
-->
<?xml version="1.0" encoding="UTF-8"?><!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="en-us" xml:lang="en-us">
<head>
<meta content="text/html; charset=utf-8" http-equiv="Content-Type" />
<meta name="copyright" content="(C) Copyright 2005" />
<meta name="DC.rights.owner" content="(C) Copyright 2005" />
<meta content="public" name="security" />
<meta content="index,follow" name="Robots" />
<meta http-equiv="PICS-Label" content='(PICS-1.1 "http://www.icra.org/ratingsv02.html" l gen true r (cz 1 lz 1 nz 1 oz 1 vz 1) "http://www.rsac.org/ratingsv01.html" l gen true r (n 0 s 0 v 0 l 0) "http://www.classify.org/safesurf/" l gen true r (SS~~000 1))' />
<meta content="reference" name="DC.Type" />
<meta name="DC.Title" content="derby.database.forceDatabaseLock" />
<meta content="derby.database.forceDatabaseLock" name="DC.subject" />
<meta content="derby.database.forceDatabaseLock" name="keywords" />
<meta scheme="URI" name="DC.Relation" content="ctunproper22250.html" />
<meta scheme="URI" name="DC.Relation" content="rtunsearchauthdn.html" />
<meta scheme="URI" name="DC.Relation" content="rtunsearchauthpw.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper26978.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper37341.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper13766.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper25581.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper27467.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper24846.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper25025.html" />
<meta scheme="URI" name="DC.Relation" content="rtunpropernoautoboot.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper24390.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper39325.html" />
<meta scheme="URI" name="DC.Relation" content="rtunpropersqlauth.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper13217.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproperxatrantimeout.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper43414.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper43517.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper10607.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper23835.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper40346.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper98166.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper46141.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproperlogbuffersize.html" />
<meta scheme="URI" name="DC.Relation" content="rtunpropermaxlogshippinginterval.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproperminlogshippinginterval.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproperverbose.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper27529.html" />
<meta scheme="URI" name="DC.Relation" content="rtunstorminrecsize.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper81359.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper28026.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper40688.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper34037.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper33027.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper18151.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper35028.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper26985.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproperbootall.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproperdurability.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper32066.html" />
<meta scheme="URI" name="DC.Relation" content="rtunproper27355.html" />
<meta content="XHTML" name="DC.Format" />
<meta content="rtunproper81405" name="DC.Identifier" />
<meta content="en-us" name="DC.Language" />
<link href="commonltr.css" type="text/css" rel="stylesheet" />
<title>derby.database.forceDatabaseLock</title>
</head>
<body id="rtunproper81405"><a name="rtunproper81405"><!-- --></a>


<h1 class="topictitle1">derby.database.forceDatabaseLock</h1>

<div>
<div class="section"><h4 class="sectiontitle">Function</h4>
<p>On some platforms, if set to true, prevents <span>Derby</span> from booting a
database if a <em>db.lck</em> file is present in the database
directory.</p>

<p><span>Derby</span> attempts to prevent two JVMs from accessing a database at one
time (and potentially corrupting it) with the use of a file called <em>db.lck</em> in the database directory. On some operating systems, the use
of a lock file does not guarantee single access, and so <span>Derby</span> only issues
a warning and might allow multiple JVM access even when the file is present.
(For more information, see "Double-Booting System Behavior" in Chapter
1 of the <cite><span><em>Java DB Developer's Guide</em></span></cite>.)</p>

<div class="p"><span>Derby</span> provides the property <em>derby.database.forceDatabaseLock</em> for use on platforms that do not provide the ability for <span>Derby</span> to
guarantee single JVM access. By default, this property is set to false. When
this property is set to true, if <span>Derby</span> finds the <em>db.lck</em> file when it attempts to boot the database, it throws an exception
and does not boot the database.   
<div class="note"><span class="notetitle">Note: </span>This situation can occur
even when no other JVMs are accessing the database; in that case, remove the <em>db.lck</em> file by hand in order to boot the database. If
the <em>db.lck</em> file is removed by hand while a JVM is
still accessing a <span>Derby</span> database, there is no way for <span>Derby</span> to
prevent a second VM from starting up and possibly corrupting the database.
In this situation no warning message is logged to the error log. </div>
</div>

</div>

<div class="section"><h4 class="sectiontitle">Default</h4>
<p>false</p>

</div>

<div class="example"><h4 class="sectiontitle">Example</h4>
<pre><strong>derby.database.forceDatabaseLock=true</strong></pre>

</div>

<div class="section"><h4 class="sectiontitle">Dynamic or static</h4>
<p>This property is static; if you change it while <span>Derby</span> is running,
the change does not take effect until you reboot.</p>

</div>
</div>
<div>
<div class="familylinks">
<div class="parentlink"><strong>Parent topic:</strong> <a href="ctunproper22250.html" title="The Derby properties are used for configuring the system and database, as well as for diagnostics such as logging statements, and monitoring and tracing locks.">Derby properties</a></div>
</div>
<div class="relref"><strong>Related reference</strong><br />
<div><a href="rtunsearchauthdn.html" title="">derby.authentication.ldap.searchAuthDN</a></div>
<div><a href="rtunsearchauthpw.html" title="">derby.authentication.ldap.searchAuthPW</a></div>
<div><a href="rtunproper26978.html" title="">derby.authentication.ldap.searchBase</a></div>
<div><a href="rtunproper37341.html" title="">derby.authentication.ldap.searchFilter</a></div>
<div><a href="rtunproper13766.html" title="">derby.authentication.provider</a></div>
<div><a href="rtunproper25581.html" title="">derby.authentication.server</a></div>
<div><a href="rtunproper27467.html" title="">derby.connection.requireAuthentication</a></div>
<div><a href="rtunproper24846.html" title="">derby.database.defaultConnectionMode</a></div>
<div><a href="rtunproper25025.html" title="">derby.database.fullAccessUsers</a></div>
<div><a href="rtunpropernoautoboot.html" title="">derby.database.noAutoBoot</a></div>
<div><a href="rtunproper24390.html" title="">derby.database.propertiesOnly</a></div>
<div><a href="rtunproper39325.html" title="">derby.database.readOnlyAccessUsers</a></div>
<div><a href="rtunpropersqlauth.html" title="">derby.database.sqlAuthorization</a></div>
<div><a href="rtunproper13217.html" title="">derby.infolog.append</a></div>
<div><a href="rtunproperxatrantimeout.html" title="">derby.jdbc.xaTransactionTimeout</a></div>
<div><a href="rtunproper43414.html" title="">derby.language.logQueryPlan</a></div>
<div><a href="rtunproper43517.html" title="">derby.language.logStatementText</a></div>
<div><a href="rtunproper10607.html" title="">derby.locks.deadlockTimeout</a></div>
<div><a href="rtunproper23835.html" title="">derby.locks.deadlockTrace</a></div>
<div><a href="rtunproper40346.html" title="">derby.locks.escalationThreshold</a></div>
<div><a href="rtunproper98166.html" title="">derby.locks.monitor</a></div>
<div><a href="rtunproper46141.html" title="">derby.locks.waitTimeout</a></div>
<div><a href="rtunproperlogbuffersize.html" title="">derby.replication.logBufferSize</a></div>
<div><a href="rtunpropermaxlogshippinginterval.html" title="">derby.replication.maxLogShippingInterval</a></div>
<div><a href="rtunproperminlogshippinginterval.html" title="">derby.replication.minLogShippingInterval</a></div>
<div><a href="rtunproperverbose.html" title="">derby.replication.verbose</a></div>
<div><a href="rtunproper27529.html" title="">derby.storage.initialPages</a></div>
<div><a href="rtunstorminrecsize.html" title="">derby.storage.minimumRecordSize</a></div>
<div><a href="rtunproper81359.html" title="">derby.storage.pageCacheSize</a></div>
<div><a href="rtunproper28026.html" title="">derby.storage.pageReservedSpace</a></div>
<div><a href="rtunproper40688.html" title="">derby.storage.pageSize</a></div>
<div><a href="rtunproper34037.html" title="">derby.storage.tempDirectory</a></div>
<div><a href="rtunproper33027.html" title="">derby.stream.error.field</a></div>
<div><a href="rtunproper18151.html" title="">derby.stream.error.file</a></div>
<div><a href="rtunproper35028.html" title="">derby.stream.error.method</a></div>
<div><a href="rtunproper26985.html" title="">derby.stream.error.logSeverityLevel</a></div>
<div><a href="rtunproperbootall.html" title="">derby.system.bootAll</a></div>
<div><a href="rtunproperdurability.html" title="">derby.system.durability</a></div>
<div><a href="rtunproper32066.html" title="">derby.system.home</a></div>
<div><a href="rtunproper27355.html" title="">derby.user.UserName</a></div>
</div>
</div>

</body>
</html>