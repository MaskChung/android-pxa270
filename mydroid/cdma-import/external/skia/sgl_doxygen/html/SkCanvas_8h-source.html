<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SGL: SkCanvas.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.0 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">include</a>&nbsp;/&nbsp;<a class="el" href="dir_000001.html">skia</a></div>
<h1>SkCanvas.h</h1><div class="fragment"><pre class="fragment">00001 <span class="preprocessor">#ifndef SkCanvas_DEFINED</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define SkCanvas_DEFINED</span>
00003 <span class="preprocessor"></span>
00004 <span class="preprocessor">#include "SkBitmap.h"</span>
00005 <span class="preprocessor">#include "SkDeque.h"</span>
00006 <span class="preprocessor">#include "SkPaint.h"</span>
00007 <span class="preprocessor">#include "SkPath.h"</span>
00008 <span class="preprocessor">#include "SkRegion.h"</span>
00009 
00010 <span class="keyword">class </span><a class="code" href="classSkBounder.html">SkBounder</a>;
00011 
<a name="l00019"></a><a class="code" href="classSkCanvas.html">00019</a> <span class="keyword">class </span><a class="code" href="classSkCanvas.html">SkCanvas</a> {
00020 <span class="keyword">public</span>:
00021         <a class="code" href="classSkCanvas.html">SkCanvas</a>();
00022         <a class="code" href="classSkCanvas.html">SkCanvas</a>(<span class="keyword">const</span> <a class="code" href="classSkBitmap.html">SkBitmap</a>&amp;);
00023         ~<a class="code" href="classSkCanvas.html">SkCanvas</a>();
00024 
00028         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a3">getPixels</a>(<a class="code" href="classSkBitmap.html">SkBitmap</a>*) <span class="keyword">const</span>;
00033         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a4">setPixels</a>(<span class="keyword">const</span> <a class="code" href="classSkBitmap.html">SkBitmap</a>&amp;);
00034 
00040         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a5">save</a>();
00045         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a6">restore</a>();
00049         <span class="keywordtype">int</span>             <a class="code" href="classSkCanvas.html#a7">getSaveCount</a>() <span class="keyword">const</span>;
00052         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a8">restoreToCount</a>(<span class="keywordtype">int</span> saveCount);
00053 
00059         <span class="keywordtype">bool</span>    <a class="code" href="classSkCanvas.html#a9">translate</a>(SkScalar dx, SkScalar dy);
00068         <span class="keywordtype">bool</span>    <a class="code" href="classSkCanvas.html#a10">scale</a>(SkScalar sx, SkScalar sy, SkScalar px, SkScalar py);
00076         <span class="keywordtype">bool</span>    <a class="code" href="classSkCanvas.html#a11">rotate</a>(SkScalar degrees, SkScalar px, SkScalar py);
00085         <span class="keywordtype">bool</span>    <a class="code" href="classSkCanvas.html#a12">skew</a>(SkScalar sx, SkScalar sy, SkScalar px, SkScalar py);
00089         <span class="keywordtype">bool</span>    <a class="code" href="classSkCanvas.html#a13">concat</a>(<span class="keyword">const</span> SkMatrix&amp;);
00090 
00094         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a14">clipRect</a>(<span class="keyword">const</span> SkRect&amp;);
<a name="l00098"></a><a class="code" href="classSkCanvas.html#a15">00098</a>         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a14">clipRect</a>(SkScalar left, SkScalar top, SkScalar right, SkScalar bottom)
00099     {
00100         SkRect r;
00101         r.set(left, top, right, bottom);
00102         this-&gt;<a class="code" href="classSkCanvas.html#a14">clipRect</a>(r);
00103     }
00107         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a16">clipPath</a>(<span class="keyword">const</span> <a class="code" href="classSkPath.html">SkPath</a>&amp;);
00117         <span class="keywordtype">bool</span>    <a class="code" href="classSkCanvas.html#a17">quickReject</a>(<span class="keyword">const</span> SkRect&amp;, <span class="keywordtype">bool</span> antialiased = <span class="keyword">false</span>) <span class="keyword">const</span>;
00129         <span class="keywordtype">bool</span>    <a class="code" href="classSkCanvas.html#a17">quickReject</a>(<span class="keyword">const</span> <a class="code" href="classSkPath.html">SkPath</a>&amp;, <span class="keywordtype">bool</span> antialiased = <span class="keyword">false</span>) <span class="keyword">const</span>;
<a name="l00132"></a><a class="code" href="classSkCanvas.html#a19">00132</a>         <span class="keywordtype">bool</span>    <a class="code" href="classSkCanvas.html#a17">quickReject</a>(SkScalar left, SkScalar top, SkScalar right, SkScalar bottom, <span class="keywordtype">bool</span> antialiased = <span class="keyword">false</span>)<span class="keyword"> const</span>
00133 <span class="keyword">    </span>{
00134         SkRect r;
00135         r.set(left, top, right, bottom);
00136         <span class="keywordflow">return</span> this-&gt;<a class="code" href="classSkCanvas.html#a17">quickReject</a>(r, antialiased);
00137     }
00138 
00142         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a20">drawRGB</a>(U8CPU r, U8CPU g, U8CPU b);
00146         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a21">drawARGB</a>(U8CPU a, U8CPU r, U8CPU g, U8CPU b);
00150         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a22">drawColor</a>(SkColor);
00151 
00156         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a23">drawPaint</a>(<span class="keyword">const</span> <a class="code" href="classSkPaint.html">SkPaint</a>&amp;);
00161         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a24">drawLine</a>(<span class="keyword">const</span> SkPoint&amp; start, <span class="keyword">const</span> SkPoint&amp; stop, <span class="keyword">const</span> <a class="code" href="classSkPaint.html">SkPaint</a>&amp;);
00166         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a24">drawLine</a>(SkScalar x0, SkScalar y0, SkScalar x1, SkScalar y1, <span class="keyword">const</span> <a class="code" href="classSkPaint.html">SkPaint</a>&amp;);
00170         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a26">drawRect</a>(<span class="keyword">const</span> SkRect&amp;, <span class="keyword">const</span> <a class="code" href="classSkPaint.html">SkPaint</a>&amp;);
00174         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a27">drawOval</a>(<span class="keyword">const</span> SkRect&amp; oval, <span class="keyword">const</span> <a class="code" href="classSkPaint.html">SkPaint</a>&amp;);
00179         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a28">drawCircle</a>(SkScalar cx, SkScalar cy, SkScalar radius, <span class="keyword">const</span> <a class="code" href="classSkPaint.html">SkPaint</a>&amp;);
00185         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a29">drawRoundRect</a>(<span class="keyword">const</span> SkRect&amp;, SkScalar rx, SkScalar ry, <span class="keyword">const</span> <a class="code" href="classSkPaint.html">SkPaint</a>&amp;);
00189         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a30">drawPath</a>(<span class="keyword">const</span> <a class="code" href="classSkPath.html">SkPath</a>&amp;, <span class="keyword">const</span> <a class="code" href="classSkPaint.html">SkPaint</a>&amp;);
00192         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a31">drawBitmap</a>(<span class="keyword">const</span> <a class="code" href="classSkBitmap.html">SkBitmap</a>&amp;, SkScalar x, SkScalar y, <span class="keyword">const</span> <a class="code" href="classSkPaint.html">SkPaint</a>&amp;);
00195         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a31">drawBitmap</a>(<span class="keyword">const</span> <a class="code" href="classSkBitmap.html">SkBitmap</a>&amp;, SkScalar x, SkScalar y);
00202         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a33">drawText</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> text[], size_t byteLength, SkScalar x, SkScalar y, <span class="keyword">const</span> <a class="code" href="classSkPaint.html">SkPaint</a>&amp;);
00209         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a34">drawText16</a>(<span class="keyword">const</span> U16 text[], size_t numberOf16BitValues, SkScalar x, SkScalar y, <span class="keyword">const</span> <a class="code" href="classSkPaint.html">SkPaint</a>&amp;);
00218         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a35">drawTextOnPath</a>(<span class="keyword">const</span> <span class="keywordtype">char</span> text[], size_t byteLength, <span class="keyword">const</span> <a class="code" href="classSkPath.html">SkPath</a>&amp; path, SkScalar offset, <span class="keyword">const</span> <a class="code" href="classSkPaint.html">SkPaint</a>&amp; paint);
00227         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a36">drawText16OnPath</a>(<span class="keyword">const</span> U16 text[], size_t numberOf16BitValues, <span class="keyword">const</span> <a class="code" href="classSkPath.html">SkPath</a>&amp; path, SkScalar offset, <span class="keyword">const</span> <a class="code" href="classSkPaint.html">SkPaint</a>&amp; paint);
00228 
00232         U32     <a class="code" href="classSkCanvas.html#a37">getPaintSetBits</a>() <span class="keyword">const</span>;
00236         U32     <a class="code" href="classSkCanvas.html#a38">getPaintClearBits</a>() <span class="keyword">const</span>;
00242         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a39">setPaintSetClearBits</a>(U32 setBits, U32 clrBits);
00246         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a40">orPaintSetClearBits</a>(U32 setBits, U32 clearBits);
00247 
00254         <span class="keywordtype">void</span>    <a class="code" href="classSkCanvas.html#a41">clipDeviceRgn</a>(<span class="keyword">const</span> SkRegion&amp; deviceRgn);
00255 
<a name="l00258"></a><a class="code" href="classSkCanvas.html#a42">00258</a>         <a class="code" href="classSkBounder.html">SkBounder</a>*      <a class="code" href="classSkCanvas.html#a42">getBounder</a>()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> fBounder; }
00263         <a class="code" href="classSkBounder.html">SkBounder</a>*      <a class="code" href="classSkCanvas.html#a43">setBounder</a>(<a class="code" href="classSkBounder.html">SkBounder</a>*);
00264 
00265     <span class="comment">// needs to be public for our type traits trick in SkCanvas.cpp. If that can be fixed,</span>
00266     <span class="comment">// change back to private.</span>
00267         <span class="keyword">struct </span>MCRec {
00268                 MCRec*          fNext;
00269                 SkMatrix        fMatrix;
00270                 <span class="keyword">mutable</span> SkMatrix::MapPtProc     fMapPtProc;
00271                 SkRegion        fRegion;
00272                 U8                      fSetPaintBits;
00273                 U8                      fClearPaintBits;
00274         
00275         MCRec() {}
00276         MCRec(<span class="keyword">const</span> MCRec&amp; other)
00277             : fMatrix(other.fMatrix), fRegion(other.fRegion)
00278         {
00279             <span class="comment">// don't bother initializing fNext</span>
00280             fMapPtProc = other.fMapPtProc;
00281             fSetPaintBits = other.fSetPaintBits;
00282             fClearPaintBits = other.fClearPaintBits;
00283         }
00284         };
00285 
00286 <span class="keyword">private</span>:    
00287     SkSTDeque&lt;8, MCRec&gt; fMCStack;
00288     MCRec*              fMCRec; <span class="comment">// points to top of stack</span>
00289 
00290         <a class="code" href="classSkBitmap.html">SkBitmap</a>        fBitmap;
00291         <a class="code" href="classSkBounder.html">SkBounder</a>*      fBounder;
00292 
00293         <span class="keyword">friend</span> <span class="keyword">class </span>SkDraw;
00294 };
00295 
<a name="l00300"></a><a class="code" href="classSkAutoCanvasRestore.html">00300</a> <span class="keyword">class </span><a class="code" href="classSkAutoCanvasRestore.html">SkAutoCanvasRestore</a> {
00301 <span class="keyword">public</span>:
00302         <a class="code" href="classSkAutoCanvasRestore.html">SkAutoCanvasRestore</a>(<a class="code" href="classSkCanvas.html">SkCanvas</a>* canvas, <span class="keywordtype">bool</span> doSave) : fCanvas(canvas)
00303         {
00304                 SkASSERT(canvas);
00305                 fSaveCount = canvas-&gt;getSaveCount();
00306                 <span class="keywordflow">if</span> (doSave)
00307                         canvas-&gt;save();
00308         }
00309         ~<a class="code" href="classSkAutoCanvasRestore.html">SkAutoCanvasRestore</a>()
00310         {
00311                 fCanvas-&gt;<a class="code" href="classSkCanvas.html#a8">restoreToCount</a>(fSaveCount);
00312         }
00313 
00314 <span class="keyword">private</span>:
00315         <a class="code" href="classSkCanvas.html">SkCanvas</a>*       fCanvas;
00316         <span class="keywordtype">int</span>                     fSaveCount;
00317 };
00318 
00319 <span class="preprocessor">#endif</span>
00320 <span class="preprocessor"></span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue May 9 14:35:23 2006 for SGL by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.0 </small></address>
</body>
</html>
