<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SGL: SkRefCnt Class Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.0 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<h1>SkRefCnt Class Reference</h1><code>#include &lt;<a class="el" href="SkRefCnt_8h-source.html">SkRefCnt.h</a>&gt;</code>
<p>
<p>Inheritance diagram for SkRefCnt:
<p><center><img src="classSkRefCnt.png" usemap="#SkRefCnt_map" border="0" alt=""></center>
<map name="SkRefCnt_map">
<area href="classSkBitmapRef.html" alt="SkBitmapRef" shape="rect" coords="108,56,206,80">
<area href="classSkBounder.html" alt="SkBounder" shape="rect" coords="108,112,206,136">
<area href="classSkColorTable.html" alt="SkColorTable" shape="rect" coords="108,168,206,192">
<area href="classSkEventSink.html" alt="SkEventSink" shape="rect" coords="108,224,206,248">
<area href="classSkFlattenable.html" alt="SkFlattenable" shape="rect" coords="108,280,206,304">
<area href="classSkShader.html" alt="SkShader" shape="rect" coords="108,392,206,416">
<area href="classSkView_1_1Artist.html" alt="SkView::Artist" shape="rect" coords="108,560,206,584">
<area href="classSkView_1_1Layout.html" alt="SkView::Layout" shape="rect" coords="108,616,206,640">
<area href="classSkXfermode.html" alt="SkXfermode" shape="rect" coords="108,672,206,696">
</map>
<a href="classSkRefCnt-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSkRefCnt.html#a0">SkRefCnt</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">virtual&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSkRefCnt.html#a1">~SkRefCnt</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">int&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSkRefCnt.html#a2">getRefCnt</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSkRefCnt.html#a3">ref</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSkRefCnt.html#a4">unref</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSkRefCnt.html#a5">safeRef</a> () const </td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classSkRefCnt.html#a6">safeUnref</a> () const </td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
SkRefCnt is the base class for objects that may be shared by multiple objects. When a new owner wants a reference, it calls <a class="el" href="classSkRefCnt.html#a3">ref()</a>. When an owner wants to release its reference, it calls <a class="el" href="classSkRefCnt.html#a4">unref()</a>. When the shared object's reference count goes to zero as the result of an <a class="el" href="classSkRefCnt.html#a4">unref()</a> call, its (virtual) destructor is called. It is an error for the destructor to be called explicitly (or via the object going out of scope on the stack or calling delete) if <a class="el" href="classSkRefCnt.html#a2">getRefCnt()</a> &gt; 1. 
<p>
<hr><h2>Constructor &amp; Destructor Documentation</h2>
<a class="anchor" name="a0" doxytag="SkRefCnt::SkRefCnt"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">SkRefCnt::SkRefCnt           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Default construct, initializing the reference count to 1.    </td>
  </tr>
</table>
<a class="anchor" name="a1" doxytag="SkRefCnt::~SkRefCnt"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">virtual SkRefCnt::~<a class="el" href="classSkRefCnt.html">SkRefCnt</a>           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap><code> [inline, virtual]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Destruct, asserting that the reference count is 1.    </td>
  </tr>
</table>
<hr><h2>Member Function Documentation</h2>
<a class="anchor" name="a2" doxytag="SkRefCnt::getRefCnt"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">int SkRefCnt::getRefCnt           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Return the reference count.    </td>
  </tr>
</table>
<a class="anchor" name="a3" doxytag="SkRefCnt::ref"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void SkRefCnt::ref           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Increment the reference count. Must be balanced by a call to <a class="el" href="classSkRefCnt.html#a4">unref()</a>.    </td>
  </tr>
</table>
<a class="anchor" name="a5" doxytag="SkRefCnt::safeRef"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void SkRefCnt::safeRef           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Helper version of <a class="el" href="classSkRefCnt.html#a3">ref()</a>, that first checks to see if this is not nil. If this is nil, then do nothing.    </td>
  </tr>
</table>
<a class="anchor" name="a6" doxytag="SkRefCnt::safeUnref"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void SkRefCnt::safeUnref           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Helper version of <a class="el" href="classSkRefCnt.html#a4">unref()</a>, that first checks to see if this is not nil. If this is nil, then do nothing.    </td>
  </tr>
</table>
<a class="anchor" name="a4" doxytag="SkRefCnt::unref"></a><p>
<table class="mdTable" cellpadding="2" cellspacing="0">
  <tr>
    <td class="mdRow">
      <table cellpadding="0" cellspacing="0" border="0">
        <tr>
          <td class="md" nowrap valign="top">void SkRefCnt::unref           </td>
          <td class="md" valign="top">(&nbsp;</td>
          <td class="mdname1" valign="top" nowrap>          </td>
          <td class="md" valign="top">&nbsp;)&nbsp;</td>
          <td class="md" nowrap> const<code> [inline]</code></td>
        </tr>
      </table>
    </td>
  </tr>
</table>
<table cellspacing="5" cellpadding="0" border="0">
  <tr>
    <td>
      &nbsp;
    </td>
    <td>

<p>
Decrement the reference count. If the reference count is 1 before the decrement, then call delete on the object. Note that if this is the case, then the object needs to have been allocated via new, and not on the stack.    </td>
  </tr>
</table>
<hr>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="SkRefCnt_8h-source.html">SkRefCnt.h</a></ul>
<hr size="1"><address style="align: right;"><small>Generated on Tue May 9 14:35:23 2006 for SGL by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.0 </small></address>
</body>
</html>
