<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SGL: SkWidget.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.0 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">include</a>&nbsp;/&nbsp;<a class="el" href="dir_000001.html">skia</a></div>
<h1>SkWidget.h</h1><div class="fragment"><pre class="fragment">00001 <span class="preprocessor">#ifndef SkWidget_DEFINED</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define SkWidget_DEFINED</span>
00003 <span class="preprocessor"></span>
00004 <span class="preprocessor">#include "SkView.h"</span>
00005 <span class="preprocessor">#include "SkBitmap.h"</span>
00006 <span class="preprocessor">#include "SkDOM.h"</span>
00007 <span class="preprocessor">#include "SkPaint.h"</span>
00008 <span class="preprocessor">#include "SkString.h"</span>
00009 <span class="preprocessor">#include "SkTDArray.h"</span>
00010 
00012 
00013 <span class="keyword">class </span>SkWidget : <span class="keyword">public</span> <a class="code" href="classSkView.html">SkView</a> {
00014 <span class="keyword">public</span>:
00015         SkWidget(U32 flags = 0) : <a class="code" href="classSkView.html">SkView</a>(flags | <a class="code" href="classSkView.html#w16w8">kFocusable_Mask</a> | <a class="code" href="classSkView.html#w16w7">kEnabled_Mask</a>) {}
00016 
00018         <span class="keywordtype">void</span>    postWidgetEvent();
00019 
00020         <span class="keyword">static</span> <span class="keywordtype">void</span> Init();
00021         <span class="keyword">static</span> <span class="keywordtype">void</span> Term();
00022 <span class="keyword">protected</span>:
00023         <span class="comment">// override to add slots to an event before posting</span>
00024         <span class="keyword">virtual</span> <span class="keywordtype">void</span> prepareWidgetEvent(<a class="code" href="classSkEvent.html">SkEvent</a>*);
00025         <span class="keyword">virtual</span> <span class="keywordtype">void</span> onEnabledChange();
00026 
00027         <span class="comment">// &lt;event ...&gt; to initialize the event from XML</span>
00028         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSkView.html#a50">onInflate</a>(<span class="keyword">const</span> SkDOM&amp; dom, <span class="keyword">const</span> SkDOM::Node* node);
00029 
00030 <span class="keyword">private</span>:
00031         <a class="code" href="classSkEvent.html">SkEvent</a> fEvent;
00032         <span class="keyword">typedef</span> <a class="code" href="classSkView.html">SkView</a> INHERITED;
00033 };
00034 
00035 <span class="keyword">class </span>SkHasLabelWidget : <span class="keyword">public</span> SkWidget {
00036 <span class="keyword">public</span>:
00037         SkHasLabelWidget(U32 flags = 0) : SkWidget(flags) {}
00038 
00039         size_t  getLabel(<a class="code" href="classSkString.html">SkString</a>* label = nil) <span class="keyword">const</span>;
00040         size_t  getLabel(<span class="keywordtype">char</span> lable[] = nil) <span class="keyword">const</span>;
00041         <span class="keywordtype">void</span>    setLabel(<span class="keyword">const</span> <a class="code" href="classSkString.html">SkString</a>&amp;);
00042         <span class="keywordtype">void</span>    setLabel(<span class="keyword">const</span> <span class="keywordtype">char</span> label[]);
00043         <span class="keywordtype">void</span>    setLabel(<span class="keyword">const</span> <span class="keywordtype">char</span> label[], size_t len);
00044 
00045 <span class="keyword">protected</span>:
00046         <span class="comment">// called when the label changes</span>
00047         <span class="keyword">virtual</span> <span class="keywordtype">void</span> onLabelChange();
00048 
00049         <span class="comment">// overrides</span>
00050         <span class="keyword">virtual</span> <span class="keywordtype">void</span> onInflate(<span class="keyword">const</span> SkDOM&amp; dom, <span class="keyword">const</span> SkDOM::Node*);
00051 
00052 <span class="keyword">private</span>:
00053         <a class="code" href="classSkString.html">SkString</a>        fLabel;
00054         <span class="keyword">typedef</span> SkWidget INHERITED;
00055 };
00056 
00057 <span class="keyword">class </span>SkButtonWidget : <span class="keyword">public</span> SkHasLabelWidget {
00058 <span class="keyword">public</span>:
00059         SkButtonWidget(U32 flags = 0) : SkHasLabelWidget(flags), fState(kOff_State) {}
00060 
00061         <span class="keyword">enum</span> State {
00062                 kOff_State,             
00063                 kOn_State,              
00064                 kUnknown_State  
00065         };
00066         State   getButtonState()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> fState; }
00067         <span class="keywordtype">void</span>    setButtonState(State);
00068 
00069 <span class="keyword">protected</span>:
00071         <span class="keyword">virtual</span> <span class="keywordtype">void</span> onButtonStateChange();
00072 
00073         <span class="comment">// overrides</span>
00074         <span class="keyword">virtual</span> <span class="keywordtype">void</span> onInflate(<span class="keyword">const</span> SkDOM&amp; dom, <span class="keyword">const</span> SkDOM::Node*);
00075 
00076 <span class="keyword">private</span>:
00077         State   fState;
00078         <span class="keyword">typedef</span> SkHasLabelWidget INHERITED;
00079 };
00080 
00081 <span class="keyword">class </span>SkPushButtonWidget : <span class="keyword">public</span> SkButtonWidget {
00082 <span class="keyword">public</span>:
00083         SkPushButtonWidget(U32 flags = 0) : SkButtonWidget(flags) {}
00084 
00085 <span class="keyword">protected</span>:
00086         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> onEvent(<span class="keyword">const</span> <a class="code" href="classSkEvent.html">SkEvent</a>&amp;);
00087         <span class="keyword">virtual</span> <span class="keywordtype">void</span> onDraw(<a class="code" href="classSkCanvas.html">SkCanvas</a>*);
00088         <span class="keyword">virtual</span> Click* onFindClickHandler(SkScalar x, SkScalar y);
00089         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> onClick(Click* click);
00090 
00091 <span class="keyword">private</span>:
00092         <span class="keyword">typedef</span> SkButtonWidget INHERITED;
00093 };
00094 
00095 <span class="keyword">class </span>SkCheckBoxWidget : <span class="keyword">public</span> SkButtonWidget {
00096 <span class="keyword">public</span>:
00097         SkCheckBoxWidget(U32 flags = 0);
00098 
00099 <span class="keyword">protected</span>:
00100         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> onEvent(<span class="keyword">const</span> <a class="code" href="classSkEvent.html">SkEvent</a>&amp;);
00101         <span class="keyword">virtual</span> <span class="keywordtype">void</span> onDraw(<a class="code" href="classSkCanvas.html">SkCanvas</a>*);
00102         <span class="keyword">virtual</span> <span class="keywordtype">void</span> onInflate(<span class="keyword">const</span> SkDOM&amp; dom, <span class="keyword">const</span> SkDOM::Node*);
00103 
00104 <span class="keyword">private</span>:
00105         <span class="keyword">typedef</span> SkButtonWidget INHERITED;
00106 };
00107 
00108 <span class="preprocessor">#include "SkTextBox.h"</span>
00109 
00110 <span class="keyword">class </span>SkStaticTextView : <span class="keyword">public</span> <a class="code" href="classSkView.html">SkView</a> {
00111 <span class="keyword">public</span>:
00112                         SkStaticTextView(U32 flags = 0);
00113         <span class="keyword">virtual</span> ~SkStaticTextView();
00114 
00115         <span class="keyword">enum</span> Mode {
00116                 kFixedSize_Mode,
00117                 kAutoWidth_Mode,
00118                 kAutoHeight_Mode,
00119 
00120                 kModeCount
00121         };
00122         Mode    getMode()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (Mode)fMode; }
00123         <span class="keywordtype">void</span>    setMode(Mode);
00124 
00125         <a class="code" href="classSkTextBox.html">SkTextBox</a>::SpacingAlign getSpacingAlign()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> (SkTextBox::SpacingAlign)fSpacingAlign; }
00126         <span class="keywordtype">void</span>    setSpacingAlign(<a class="code" href="classSkTextBox.html">SkTextBox</a>::SpacingAlign);
00127 
00128         <span class="keywordtype">void</span>    getMargin(SkPoint* margin) const;
00129         <span class="keywordtype">void</span>    setMargin(SkScalar dx, SkScalar dy);
00130 
00131         size_t  getText(<a class="code" href="classSkString.html">SkString</a>* text = nil) const;
00132         size_t  getText(<span class="keywordtype">char</span> text[] = nil) const;
00133         <span class="keywordtype">void</span>    setText(const <a class="code" href="classSkString.html">SkString</a>&amp;);
00134         <span class="keywordtype">void</span>    setText(const <span class="keywordtype">char</span> text[]);
00135         <span class="keywordtype">void</span>    setText(const <span class="keywordtype">char</span> text[], size_t len);
00136 
00137         <span class="keywordtype">void</span>    getPaint(<a class="code" href="classSkPaint.html">SkPaint</a>*) const;
00138         <span class="keywordtype">void</span>    setPaint(const <a class="code" href="classSkPaint.html">SkPaint</a>&amp;);
00139 
00140 protected:
00141         <span class="comment">// overrides</span>
00142         virtual <span class="keywordtype">void</span> onDraw(<a class="code" href="classSkCanvas.html">SkCanvas</a>*);
00143         virtual <span class="keywordtype">void</span> onInflate(const SkDOM&amp; dom, const SkDOM::Node*);
00144 
00145 private:
00146         SkPoint         fMargin;
00147         SkString        fText;
00148         SkPaint         fPaint;
00149         U8                      fMode;
00150         U8                      fSpacingAlign;
00151 
00152         <span class="keywordtype">void</span> computeSize();
00153 
00154         typedef <a class="code" href="classSkView.html">SkView</a> INHERITED;
00155 };
00156 
00157 class SkBitmapView : public <a class="code" href="classSkView.html">SkView</a> {
00158 <span class="keyword">public</span>:
00159                         SkBitmapView(U32 flags = 0);
00160         <span class="keyword">virtual</span> ~SkBitmapView();
00161 
00162         <span class="keywordtype">bool</span>    getBitmap(<a class="code" href="classSkBitmap.html">SkBitmap</a>*) <span class="keyword">const</span>;
00163         <span class="keywordtype">void</span>    setBitmap(<span class="keyword">const</span> <a class="code" href="classSkBitmap.html">SkBitmap</a>*, <span class="keywordtype">bool</span> viewOwnsPixels);
00164         <span class="keywordtype">bool</span>    loadBitmapFromFile(<span class="keyword">const</span> <span class="keywordtype">char</span> path[]);
00165 
00166 <span class="keyword">protected</span>:
00167         <span class="keyword">virtual</span> <span class="keywordtype">void</span> onDraw(SkCanvas*);
00168         <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSkView.html#a50">onInflate</a>(<span class="keyword">const</span> SkDOM&amp;, <span class="keyword">const</span> SkDOM::Node*);
00169 
00170 <span class="keyword">private</span>:
00171         <a class="code" href="classSkBitmap.html">SkBitmap</a>        fBitmap;
00172         <span class="keyword">typedef</span> SkView INHERITED;
00173 };
00174 
00176 
00177 <span class="keyword">class </span><a class="code" href="classSkShader.html">SkShader</a>;
00178 <span class="keyword">class </span>SkInterpolator;
00179 
00180 <span class="keyword">class </span>SkWidgetView : <span class="keyword">public</span> <a class="code" href="classSkView.html">SkView</a> {
00181 <span class="keyword">public</span>:
00182                         SkWidgetView(U32 flags = 0);
00183         <span class="keyword">virtual</span> ~SkWidgetView();
00184 
00185         <span class="keyword">static</span> <span class="keyword">const</span> <span class="keywordtype">char</span>*      GetEventType();
00186 };
00187 
00188 <span class="keyword">class </span>SkSliderView : <span class="keyword">public</span> SkWidgetView {
00189 <span class="keyword">public</span>:
00190         SkSliderView(U32 flags = 0);
00191 
00192         U16             getValue()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> fValue; }
00193         U16             getMax()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> fMax; }
00194 
00195         <span class="keywordtype">void</span>    setMax(U16CPU max);
00196         <span class="keywordtype">void</span>    setValue(U16CPU value);
00197 
00198 <span class="keyword">protected</span>:
00199         <span class="keyword">virtual</span> <span class="keywordtype">void</span>    onDraw(<a class="code" href="classSkCanvas.html">SkCanvas</a>*);
00200         <span class="keyword">virtual</span> Click*  onFindClickHandler(SkScalar x, SkScalar y);
00201         <span class="keyword">virtual</span> <span class="keywordtype">bool</span>    onClick(Click*);
00202 
00203 <span class="keyword">private</span>:
00204         U16     fValue, fMax;
00205 
00206         <span class="keyword">typedef</span> SkWidgetView INHERITED;
00207 };
00208 
00210 
00211 <span class="keyword">class </span>SkHasLabelView : <span class="keyword">public</span> <a class="code" href="classSkView.html">SkView</a> {
00212 <span class="keyword">public</span>:
00213         <span class="keywordtype">void</span>    getLabel(<a class="code" href="classSkString.html">SkString</a>*) <span class="keyword">const</span>;
00214         <span class="keywordtype">void</span>    setLabel(<span class="keyword">const</span> <a class="code" href="classSkString.html">SkString</a>&amp;);
00215         <span class="keywordtype">void</span>    setLabel(<span class="keyword">const</span> <span class="keywordtype">char</span> label[]);
00216 
00217 <span class="keyword">protected</span>:
00218         <a class="code" href="classSkString.html">SkString</a>        fLabel;
00219 
00220         <span class="comment">// called when the label changes</span>
00221         <span class="keyword">virtual</span> <span class="keywordtype">void</span> onLabelChange();
00222 
00223         <span class="comment">// overrides</span>
00224         <span class="keyword">virtual</span> <span class="keywordtype">void</span> onInflate(<span class="keyword">const</span> SkDOM&amp; dom, <span class="keyword">const</span> SkDOM::Node*);
00225 };
00226 
00227 <span class="keyword">class </span>SkPushButtonView : <span class="keyword">public</span> SkHasLabelView {
00228 <span class="keyword">public</span>:
00229         SkPushButtonView(U32 flags = 0);
00230 
00231 <span class="keyword">protected</span>:
00232         <span class="keyword">virtual</span> <span class="keywordtype">void</span> onDraw(<a class="code" href="classSkCanvas.html">SkCanvas</a>*);
00233         <span class="keyword">virtual</span> <span class="keywordtype">void</span> onInflate(<span class="keyword">const</span> SkDOM&amp; dom, <span class="keyword">const</span> SkDOM::Node*);
00234 };
00235 
00236 <span class="keyword">class </span>SkCheckBoxView : <span class="keyword">public</span> SkHasLabelView {
00237 <span class="keyword">public</span>:
00238         SkCheckBoxView(U32 flags = 0);
00239 
00240         <span class="keyword">enum</span> State {
00241                 kOff_State,
00242                 kOn_State,
00243                 kMaybe_State
00244         };
00245         State   getState()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> fState; }
00246         <span class="keywordtype">void</span>    setState(State);
00247 
00248 <span class="keyword">protected</span>:
00249         <span class="keyword">virtual</span> <span class="keywordtype">void</span> onDraw(<a class="code" href="classSkCanvas.html">SkCanvas</a>*);
00250         <span class="keyword">virtual</span> <span class="keywordtype">void</span> onInflate(<span class="keyword">const</span> SkDOM&amp; dom, <span class="keyword">const</span> SkDOM::Node*);
00251 
00252 <span class="keyword">private</span>:
00253         State   fState;
00254 };
00255 
00256 <span class="keyword">class </span>SkProgressView : <span class="keyword">public</span> <a class="code" href="classSkView.html">SkView</a> {
00257 <span class="keyword">public</span>:
00258         SkProgressView(U32 flags = 0);
00259         <span class="keyword">virtual</span> ~SkProgressView();
00260 
00261         U16             getValue()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> fValue; }
00262         U16             getMax()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> fMax; }
00263 
00264         <span class="keywordtype">void</span>    setMax(U16CPU max);
00265         <span class="keywordtype">void</span>    setValue(U16CPU value);
00266 
00267 <span class="keyword">protected</span>:
00268         <span class="keyword">virtual</span> <span class="keywordtype">void</span> onDraw(<a class="code" href="classSkCanvas.html">SkCanvas</a>*);
00269         <span class="keyword">virtual</span> <span class="keywordtype">void</span> onInflate(<span class="keyword">const</span> SkDOM&amp; dom, <span class="keyword">const</span> SkDOM::Node* node);
00270 
00271 <span class="keyword">private</span>:
00272         U16                     fValue, fMax;
00273         <a class="code" href="classSkShader.html">SkShader</a>*       fOnShader, *fOffShader;
00274         SkInterpolator* fInterp;
00275         <span class="keywordtype">bool</span> fDoInterp;
00276 
00277         <span class="keyword">typedef</span> <a class="code" href="classSkView.html">SkView</a> INHERITED;
00278 };
00279 
00280 <span class="keyword">class </span>SkTextView : <span class="keyword">public</span> <a class="code" href="classSkView.html">SkView</a> {
00281 <span class="keyword">public</span>:
00282                         SkTextView(U32 flags = 0);
00283         <span class="keyword">virtual</span> ~SkTextView();
00284 
00285         <span class="keyword">enum</span> AnimaDir {
00286                 kNeutral_AnimDir,
00287                 kForward_AnimDir,
00288                 kBackward_AnimDir,
00289                 kAnimDirCount
00290         };
00291 
00292         <span class="keywordtype">void</span>    getText(<a class="code" href="classSkString.html">SkString</a>*) <span class="keyword">const</span>;
00293         <span class="keywordtype">void</span>    setText(<span class="keyword">const</span> <a class="code" href="classSkString.html">SkString</a>&amp;, AnimaDir dir = kNeutral_AnimDir);
00294         <span class="keywordtype">void</span>    setText(<span class="keyword">const</span> <span class="keywordtype">char</span> text[], AnimaDir dir = kNeutral_AnimDir);
00295         <span class="keywordtype">void</span>    setText(<span class="keyword">const</span> <span class="keywordtype">char</span> text[], size_t len, AnimaDir dir = kNeutral_AnimDir);
00296 
00297         <span class="keywordtype">void</span>    getMargin(SkPoint* margin) <span class="keyword">const</span>;
00298         <span class="keywordtype">void</span>    setMargin(<span class="keyword">const</span> SkPoint&amp;);
00299 
00300         <a class="code" href="classSkPaint.html">SkPaint</a>&amp;        paint() { <span class="keywordflow">return</span> fPaint; }
00301 
00302 <span class="keyword">protected</span>:
00303         <span class="keyword">virtual</span> <span class="keywordtype">void</span> onDraw(<a class="code" href="classSkCanvas.html">SkCanvas</a>*);
00304         <span class="keyword">virtual</span> <span class="keywordtype">void</span> onInflate(<span class="keyword">const</span> SkDOM&amp; dom, <span class="keyword">const</span> SkDOM::Node* node);
00305 
00306 <span class="keyword">private</span>:
00307         <a class="code" href="classSkString.html">SkString</a> fText;
00308         <a class="code" href="classSkPaint.html">SkPaint</a>  fPaint;
00309         SkPoint  fMargin;
00310 
00311         <span class="keyword">class </span>Interp;
00312         Interp* fInterp;
00313         <span class="keywordtype">bool</span>    fDoInterp;
00314         <span class="comment">// called by the other setText methods. This guy does not check for !=</span>
00315         <span class="comment">// before doing the assign, so the caller must check for us</span>
00316         <span class="keywordtype">void</span> privSetText(<span class="keyword">const</span> <a class="code" href="classSkString.html">SkString</a>&amp;, AnimaDir dir);
00317 
00318         <span class="keyword">typedef</span> <a class="code" href="classSkView.html">SkView</a> INHERITED;
00319 };
00320 
00322 
00323 <span class="keyword">class </span><a class="code" href="classSkEvent.html">SkEvent</a>;
00324 
00325 <span class="keyword">class </span>SkListSource : <span class="keyword">public</span> <a class="code" href="classSkEventSink.html">SkEventSink</a> {
00326 <span class="keyword">public</span>:
00327         <span class="keyword">virtual</span> <span class="keywordtype">int</span>     countRows() = 0;
00328         <span class="keyword">virtual</span> <span class="keywordtype">void</span> getRow(<span class="keywordtype">int</span> index, <a class="code" href="classSkString.html">SkString</a>* left, <a class="code" href="classSkString.html">SkString</a>* right) = 0;
00329         <span class="keyword">virtual</span> <a class="code" href="classSkEvent.html">SkEvent</a>* getEvent(<span class="keywordtype">int</span> index);
00330 
00331         <span class="keyword">static</span> SkListSource* CreateFromDir(<span class="keyword">const</span> <span class="keywordtype">char</span> path[], <span class="keyword">const</span> <span class="keywordtype">char</span> suffix[],
00332                                                                                 <span class="keyword">const</span> <span class="keywordtype">char</span> targetPrefix[]);
00333         <span class="keyword">static</span> SkListSource* CreateFromDOM(<span class="keyword">const</span> SkDOM&amp; dom, <span class="keyword">const</span> SkDOM::Node* node);
00334 };
00335 
00336 <span class="keyword">class </span>SkListView : <span class="keyword">public</span> SkWidgetView {
00337 <span class="keyword">public</span>:
00338                         SkListView(U32 flags = 0);
00339         <span class="keyword">virtual</span> ~SkListView();
00340 
00341         SkScalar        getRowHeight()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> fRowHeight; }
00342         <span class="keywordtype">void</span>            setRowHeight(SkScalar);
00343 
00346         <span class="keywordtype">int</span>             getSelection()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> fCurrIndex; }
00349         <span class="keywordtype">void</span>    setSelection(<span class="keywordtype">int</span>);
00350 
00351         <span class="keywordtype">void</span>    moveSelectionUp();
00352         <span class="keywordtype">void</span>    moveSelectionDown();
00353 
00354         <span class="keyword">enum</span> Attr {
00355                 kBG_Attr,
00356                 kNormalText_Attr,
00357                 kHiliteText_Attr,
00358                 kHiliteCell_Attr,
00359                 kAttrCount
00360         };
00361         <a class="code" href="classSkPaint.html">SkPaint</a>&amp;        paint(Attr);
00362 
00363         SkListSource*   getListSource()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> fSource; }
00364         SkListSource*   setListSource(SkListSource*);
00365 
00366 <span class="preprocessor">#if 0</span>
00367 <span class="preprocessor"></span>        <span class="keyword">enum</span> Action {
00368                 kSelectionChange_Action,
00369                 kSelectionPicked_Action,
00370                 kActionCount
00371         };
00377         <span class="keywordtype">void</span>    setActionEvent(Action, <a class="code" href="classSkEvent.html">SkEvent</a>* event);
00378 <span class="preprocessor">#endif</span>
00379 <span class="preprocessor"></span>
00380 <span class="keyword">protected</span>:
00381         <span class="keyword">virtual</span> <span class="keywordtype">void</span> onDraw(<a class="code" href="classSkCanvas.html">SkCanvas</a>*);
00382         <span class="keyword">virtual</span> <span class="keywordtype">void</span> onSizeChange();
00383         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> onEvent(<span class="keyword">const</span> <a class="code" href="classSkEvent.html">SkEvent</a>&amp;);
00384         <span class="keyword">virtual</span> <span class="keywordtype">void</span> onInflate(<span class="keyword">const</span> SkDOM&amp; dom, <span class="keyword">const</span> SkDOM::Node* node);
00385 
00386 <span class="keyword">private</span>:
00387         <a class="code" href="classSkPaint.html">SkPaint</a>                 fPaint[kAttrCount];
00388         SkListSource*   fSource;
00389         SkScalar                fRowHeight;
00390         <span class="keywordtype">int</span>                             fCurrIndex;             <span class="comment">// logical index</span>
00391         <span class="keywordtype">int</span>                             fScrollIndex;   <span class="comment">// logical index of top-most visible row</span>
00392         <span class="keywordtype">int</span>                             fVisibleRowCount;
00393         <a class="code" href="classSkString.html">SkString</a>*               fStrCache;
00394 
00395         <span class="keywordtype">void</span>    dirtyStrCache();
00396         <span class="keywordtype">void</span>    ensureStrCache(<span class="keywordtype">int</span> visibleCount);
00397 
00398         <span class="keywordtype">int</span>             logicalToVisualIndex(<span class="keywordtype">int</span> index)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> index - fScrollIndex; }
00399         <span class="keywordtype">void</span>    invalSelection();
00400         <span class="keywordtype">bool</span>    getRowRect(<span class="keywordtype">int</span> index, SkRect*) <span class="keyword">const</span>;
00401         <span class="keywordtype">void</span>    ensureSelectionIsVisible();
00402 
00403         <span class="keyword">typedef</span> SkWidgetView INHERITED;
00404 };
00405 
00407 
00408 <span class="keyword">class </span>SkGridView : <span class="keyword">public</span> SkWidgetView {
00409 <span class="keyword">public</span>:
00410                         SkGridView(U32 flags = 0);
00411         <span class="keyword">virtual</span> ~SkGridView();
00412 
00413         <span class="keywordtype">void</span>    getCellSize(SkPoint*) <span class="keyword">const</span>;
00414         <span class="keywordtype">void</span>    setCellSize(SkScalar x, SkScalar y);
00415 
00418         <span class="keywordtype">int</span>             getSelection()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> fCurrIndex; }
00421         <span class="keywordtype">void</span>    setSelection(<span class="keywordtype">int</span>);
00422 
00423         <span class="keywordtype">void</span>    moveSelectionUp();
00424         <span class="keywordtype">void</span>    moveSelectionDown();
00425 
00426         <span class="keyword">enum</span> Attr {
00427                 kBG_Attr,
00428                 kHiliteCell_Attr,
00429                 kAttrCount
00430         };
00431         <a class="code" href="classSkPaint.html">SkPaint</a>&amp;        paint(Attr);
00432 
00433         SkListSource*   getListSource()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> fSource; }
00434         SkListSource*   setListSource(SkListSource*);
00435 
00436 <span class="keyword">protected</span>:
00437         <span class="keyword">virtual</span> <span class="keywordtype">void</span> onDraw(<a class="code" href="classSkCanvas.html">SkCanvas</a>*);
00438         <span class="keyword">virtual</span> <span class="keywordtype">void</span> onSizeChange();
00439         <span class="keyword">virtual</span> <span class="keywordtype">bool</span> onEvent(<span class="keyword">const</span> <a class="code" href="classSkEvent.html">SkEvent</a>&amp;);
00440         <span class="keyword">virtual</span> <span class="keywordtype">void</span> onInflate(<span class="keyword">const</span> SkDOM&amp; dom, <span class="keyword">const</span> SkDOM::Node* node);
00441 
00442 <span class="keyword">private</span>:
00443         <a class="code" href="classSkView.html">SkView</a>*                 fScrollBar;
00444         <a class="code" href="classSkPaint.html">SkPaint</a>                 fPaint[kAttrCount];
00445         SkListSource*   fSource;
00446         <span class="keywordtype">int</span>                             fCurrIndex;             <span class="comment">// logical index</span>
00447 
00448         SkPoint                 fCellSize;
00449         SkIPoint                fVisibleCount;
00450 
00451         <span class="keywordtype">int</span>             logicalToVisualIndex(<span class="keywordtype">int</span> index)<span class="keyword"> const </span>{ <span class="keywordflow">return</span> index; }
00452         <span class="keywordtype">void</span>    invalSelection();
00453         <span class="keywordtype">bool</span>    getCellRect(<span class="keywordtype">int</span> index, SkRect*) <span class="keyword">const</span>;
00454         <span class="keywordtype">void</span>    ensureSelectionIsVisible();
00455 
00456         <span class="keyword">typedef</span> SkWidgetView INHERITED;
00457 };
00458 
00459 <span class="preprocessor">#endif</span>
00460 <span class="preprocessor"></span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue May 9 14:35:23 2006 for SGL by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.0 </small></address>
</body>
</html>
