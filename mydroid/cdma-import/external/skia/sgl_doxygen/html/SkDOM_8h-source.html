<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SGL: SkDOM.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.0 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">include</a>&nbsp;/&nbsp;<a class="el" href="dir_000001.html">skia</a></div>
<h1>SkDOM.h</h1><div class="fragment"><pre class="fragment">00001 <span class="preprocessor">#ifndef SkDOM_DEFINED</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define SkDOM_DEFINED</span>
00003 <span class="preprocessor"></span>
00004 <span class="preprocessor">#include "SkChunkAlloc.h"</span>
00005 <span class="preprocessor">#include "SkMath.h"</span>
00006 <span class="preprocessor">#include "SkTemplates.h"</span>
00007 
00008 <span class="keyword">struct </span>SkDOMNode;
00009 <span class="keyword">struct </span>SkDOMAttr;
00010 
00011 <span class="keyword">class </span>SkDOM {
00012 <span class="keyword">public</span>:
00013         SkDOM();
00014         ~SkDOM();
00015 
00016         <span class="keyword">typedef</span> SkDOMNode Node;
00017     <span class="keyword">typedef</span> SkDOMAttr Attr;
00018 
00021         <span class="keyword">const</span> Node* build(<span class="keyword">const</span> <span class="keywordtype">char</span> doc[], size_t len);
00022         <span class="keyword">const</span> Node* copy(<span class="keyword">const</span> SkDOM&amp; dom, <span class="keyword">const</span> Node* node);
00023 
00024         <span class="keyword">const</span> Node*     getRootNode() <span class="keyword">const</span>;
00025 
00026         <span class="keyword">enum</span> Type {
00027                 kElement_Type,
00028                 kText_Type
00029         };
00030         Type    getType(<span class="keyword">const</span> Node*) <span class="keyword">const</span>;
00031 
00032         <span class="keyword">const</span> <span class="keywordtype">char</span>*     getName(<span class="keyword">const</span> Node*) <span class="keyword">const</span>;
00033         <span class="keyword">const</span> Node*     getFirstChild(<span class="keyword">const</span> Node*, <span class="keyword">const</span> <span class="keywordtype">char</span> elem[] = nil) <span class="keyword">const</span>;
00034         <span class="keyword">const</span> Node*     getNextSibling(<span class="keyword">const</span> Node*, <span class="keyword">const</span> <span class="keywordtype">char</span> elem[] = nil) <span class="keyword">const</span>;
00035 
00036         <span class="keyword">const</span> <span class="keywordtype">char</span>* findAttr(<span class="keyword">const</span> Node*, <span class="keyword">const</span> <span class="keywordtype">char</span> attrName[]) <span class="keyword">const</span>;
00037     <span class="keyword">const</span> Attr* getFirstAttr(<span class="keyword">const</span> Node*) <span class="keyword">const</span>;
00038     <span class="keyword">const</span> Attr* getNextAttr(<span class="keyword">const</span> Node*, <span class="keyword">const</span> Attr*) <span class="keyword">const</span>;
00039     <span class="keyword">const</span> <span class="keywordtype">char</span>* getAttrName(<span class="keyword">const</span> Node*, <span class="keyword">const</span> Attr*) <span class="keyword">const</span>;
00040     <span class="keyword">const</span> <span class="keywordtype">char</span>* getAttrValue(<span class="keyword">const</span> Node*, <span class="keyword">const</span> Attr*) <span class="keyword">const</span>;
00041         
00042         <span class="comment">// helpers for walking children</span>
00043         <span class="keywordtype">int</span> countChildren(<span class="keyword">const</span> Node* node, <span class="keyword">const</span> <span class="keywordtype">char</span> elem[] = nil) <span class="keyword">const</span>;
00044 
00045         <span class="comment">// helpers for calling SkParse</span>
00046         <span class="keywordtype">bool</span> findS32(<span class="keyword">const</span> Node*, <span class="keyword">const</span> <span class="keywordtype">char</span> name[], S32* value) <span class="keyword">const</span>;
00047         <span class="keywordtype">bool</span> findScalars(<span class="keyword">const</span> Node*, <span class="keyword">const</span> <span class="keywordtype">char</span> name[], SkScalar value[], <span class="keywordtype">int</span> count) <span class="keyword">const</span>;
00048         <span class="keywordtype">bool</span> findHex(<span class="keyword">const</span> Node*, <span class="keyword">const</span> <span class="keywordtype">char</span> name[], U32* value) <span class="keyword">const</span>;
00049         <span class="keywordtype">bool</span> findBool(<span class="keyword">const</span> Node*, <span class="keyword">const</span> <span class="keywordtype">char</span> name[], <span class="keywordtype">bool</span>*) <span class="keyword">const</span>;
00050         <span class="keywordtype">int</span>  findList(<span class="keyword">const</span> Node*, <span class="keyword">const</span> <span class="keywordtype">char</span> name[], <span class="keyword">const</span> <span class="keywordtype">char</span> list[]) <span class="keyword">const</span>;
00051 
00052         <span class="keywordtype">bool</span> findScalar(<span class="keyword">const</span> Node* node, <span class="keyword">const</span> <span class="keywordtype">char</span> name[], SkScalar value[])<span class="keyword"> const</span>
00053 <span class="keyword">        </span>{
00054                 <span class="keywordflow">return</span> this-&gt;findScalars(node, name, value, 1);
00055         }
00056 
00057         <span class="keywordtype">bool</span> hasAttr(<span class="keyword">const</span> Node*, <span class="keyword">const</span> <span class="keywordtype">char</span> name[], <span class="keyword">const</span> <span class="keywordtype">char</span> value[]) <span class="keyword">const</span>;
00058         <span class="keywordtype">bool</span> hasS32(<span class="keyword">const</span> Node*, <span class="keyword">const</span> <span class="keywordtype">char</span> name[], S32 value) <span class="keyword">const</span>;
00059         <span class="keywordtype">bool</span> hasScalar(<span class="keyword">const</span> Node*, <span class="keyword">const</span> <span class="keywordtype">char</span> name[], SkScalar value) <span class="keyword">const</span>;
00060         <span class="keywordtype">bool</span> hasHex(<span class="keyword">const</span> Node*, <span class="keyword">const</span> <span class="keywordtype">char</span> name[], U32 value) <span class="keyword">const</span>;
00061         <span class="keywordtype">bool</span> hasBool(<span class="keyword">const</span> Node*, <span class="keyword">const</span> <span class="keywordtype">char</span> name[], <span class="keywordtype">bool</span> value) <span class="keyword">const</span>;
00062 
00063         <span class="keyword">class </span>AttrIter {
00064         <span class="keyword">public</span>:
00065                 AttrIter(<span class="keyword">const</span> <span class="keyword">class</span> SkDOM&amp;, <span class="keyword">const</span> Node*);
00066                 <span class="keyword">const</span> <span class="keywordtype">char</span>* next(<span class="keyword">const</span> <span class="keywordtype">char</span>** value);
00067         <span class="keyword">private</span>:
00068                 <span class="keyword">const</span> Attr*     fAttr;
00069                 <span class="keyword">const</span> Attr*     fStop;
00070         };
00071 
00072         SkDEBUGCODE(<span class="keywordtype">void</span> dump(<span class="keyword">const</span> Node* node = nil, <span class="keywordtype">int</span> tabLevel = 0) <span class="keyword">const</span>;)
00073         SkDEBUGCODE(static <span class="keywordtype">void</span> UnitTest();)
00074 
00075 private:
00076         SkChunkAlloc    fAlloc;
00077         Node*                   fRoot;
00078         friend class AttrIter;
00079         friend class SkDOMParser;
00080 };
00081 
00082 #endif
00083 
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue May 9 14:35:23 2006 for SGL by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.0 </small></address>
</body>
</html>
