<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SGL: SkPathMeasure.h Source File</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.0 -->
<div class="qindex"><a class="qindex" href="index.html">Main&nbsp;Page</a> | <a class="qindex" href="hierarchy.html">Class&nbsp;Hierarchy</a> | <a class="qindex" href="annotated.html">Class&nbsp;List</a> | <a class="qindex" href="dirs.html">Directories</a> | <a class="qindex" href="files.html">File&nbsp;List</a> | <a class="qindex" href="functions.html">Class&nbsp;Members</a> | <a class="qindex" href="globals.html">File&nbsp;Members</a></div>
<div class="nav">
<a class="el" href="dir_000000.html">include</a>&nbsp;/&nbsp;<a class="el" href="dir_000001.html">skia</a></div>
<h1>SkPathMeasure.h</h1><div class="fragment"><pre class="fragment">00001 <span class="preprocessor">#ifndef SkPathMeasure_DEFINED</span>
00002 <span class="preprocessor"></span><span class="preprocessor">#define SkPathMeasure_DEFINED</span>
00003 <span class="preprocessor"></span>
00004 <span class="preprocessor">#include "SkPath.h"</span>
00005 <span class="preprocessor">#include "SkTDArray.h"</span>
00006 
00007 <span class="keyword">class </span>SkPathMeasure {
00008 <span class="keyword">public</span>:
00009         SkPathMeasure();
00010         SkPathMeasure(<span class="keyword">const</span> <a class="code" href="classSkPath.html">SkPath</a>&amp; path, <span class="keywordtype">bool</span> forceClosed);
00011         ~SkPathMeasure();
00012 
00015         <span class="keywordtype">void</span>    setPath(<span class="keyword">const</span> <a class="code" href="classSkPath.html">SkPath</a>*, <span class="keywordtype">bool</span> forceClosed);
00016 
00020         SkScalar getLength();
00021 
00027         <span class="keywordtype">bool</span> getPosTan(SkScalar distance, SkPoint* position, SkVector* tangent);
00028 
00029         <span class="keyword">enum</span> MatrixFlags {
00030                 kGetPosition_MatrixFlag         = 0x01,
00031                 kGetTangent_MatrixFlag          = 0x02,
00032                 kGetPosAndTan_MatrixFlag        = kGetPosition_MatrixFlag | kGetTangent_MatrixFlag
00033         };
00039         <span class="keywordtype">bool</span> getMatrix(SkScalar distance, SkMatrix* matrix, MatrixFlags flags = kGetPosAndTan_MatrixFlag);
00046         <span class="keywordtype">bool</span> getSegment(SkScalar startD, SkScalar stopD, <a class="code" href="classSkPath.html">SkPath</a>* dst, <span class="keywordtype">bool</span> startWithMoveTo);
00047 
00050         <span class="keywordtype">bool</span> isClosed();
00051 
00055         <span class="keywordtype">bool</span> nextContour();
00056 
00057 <span class="preprocessor">#ifdef SK_DEBUG</span>
00058 <span class="preprocessor"></span>        <span class="keywordtype">void</span>    dump();
00059         <span class="keyword">static</span> <span class="keywordtype">void</span> UnitTest();
00060 <span class="preprocessor">#endif</span>
00061 <span class="preprocessor"></span>
00062 <span class="keyword">private</span>:
00063         <a class="code" href="classSkPath_1_1Iter.html">SkPath::Iter</a>    fIter;
00064         <span class="keyword">const</span> <a class="code" href="classSkPath.html">SkPath</a>*   fPath;
00065         SkScalar                fLength;                        <span class="comment">// relative to the current contour</span>
00066         <span class="keywordtype">int</span>                             fFirstPtIndex;          <span class="comment">// relative to the current contour</span>
00067         <span class="keywordtype">bool</span>                    fIsClosed;                      <span class="comment">// relative to the current contour</span>
00068         <span class="keywordtype">bool</span>                    fForceClosed;
00069 
00070         <span class="keyword">struct </span>Segment {
00071                 SkScalar        fDistance;      <span class="comment">// total distance up to this point</span>
00072                 <span class="keywordtype">unsigned</span>        fPtIndex : 15;
00073                 <span class="keywordtype">unsigned</span>        fTValue : 15;
00074                 <span class="keywordtype">unsigned</span>        fType : 2;
00075 
00076                 SkScalar getScalarT() <span class="keyword">const</span>;
00077         };
00078         SkTDArray&lt;Segment&gt;      fSegments;
00079 
00080         <span class="keyword">static</span> <span class="keyword">const</span> Segment* NextSegment(<span class="keyword">const</span> Segment*);
00081 
00082         <span class="keywordtype">void</span>     buildSegments();
00083         SkScalar compute_quad_segs(<span class="keyword">const</span> SkPoint pts[3], SkScalar distance,
00084                                                                 <span class="keywordtype">int</span> mint, <span class="keywordtype">int</span> maxt, <span class="keywordtype">int</span> ptIndex);
00085         SkScalar compute_cubic_segs(<span class="keyword">const</span> SkPoint pts[3], SkScalar distance,
00086                                                                 <span class="keywordtype">int</span> mint, <span class="keywordtype">int</span> maxt, <span class="keywordtype">int</span> ptIndex);
00087         <span class="keyword">const</span> Segment* distanceToSegment(SkScalar distance, SkScalar* t);
00088 
00089         <span class="comment">// illegal (for now)</span>
00090         SkPathMeasure(<span class="keyword">const</span> SkPathMeasure&amp;);
00091         SkPathMeasure&amp; operator=(<span class="keyword">const</span> SkPathMeasure&amp;);
00092 };
00093 
00094 <span class="preprocessor">#endif</span>
00095 <span class="preprocessor"></span>
</pre></div><hr size="1"><address style="align: right;"><small>Generated on Tue May 9 14:35:23 2006 for SGL by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.0 </small></address>
</body>
</html>
