#------------------------------------------------------------------------
# Compiled template generated by the Template Toolkit version 2.15
#------------------------------------------------------------------------

Template::Document->new({
    METADATA => {
        'modtime' => '1138010588',
        'name' => 'attachment/diff-file.html.tmpl',
    },
    BLOCK => sub {
        my $context = shift || die "template sub called without context\n";
        my $stash   = $context->stash;
        my $output  = '';
        my $error;
        
        eval { BLOCK: {
    $output .=  "\n";
    $output .=  "\n\n";
    $output .=  "\n<table class=\"file_table\"><thead><tr><td class=\"file_head\" colspan=\"2\"><a href=\"#\" onclick=\"return twisty_click(this)\">";
    #line 27 "template/en/custom/attachment/diff-file.html.tmpl"
    $output .=  $stash->get('collapsed') ? '(+)' : '(-)';
    $output .=  "</a><input type=\"checkbox\" name=\"";
    #line 27 "template/en/custom/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['file', 0, 'filename', 0]);
        
        &$filter($output);
    };
    
    $output .=  "\"";
    #line 27 "template/en/custom/attachment/diff-file.html.tmpl"
    $output .=  $stash->get('collapsed') ? '' : ' checked';
    $output .=  " style=\"display: none\"> ";
    #line 32 "template/en/custom/attachment/diff-file.html.tmpl"
    if ($stash->get('lxr_prefix') && ! $stash->get(['file', 0, 'is_add', 0])) {
    $output .=  "\n    <a href=\"";
    #line 29 "template/en/custom/attachment/diff-file.html.tmpl"
    $output .=  $stash->get('lxr_prefix');
    $output .=  "\">";
    #line 29 "template/en/custom/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['file', 0, 'filename', 0]);
        
        &$filter($output);
    };
    
    $output .=  "</a>";
    }
    else {
    #line 31 "template/en/custom/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['file', 0, 'filename', 0]);
        
        &$filter($output);
    };
    
    }
    
    #line 43 "template/en/custom/attachment/diff-file.html.tmpl"
    if ($stash->get(['file', 0, 'plus_lines', 0])) {
    #line 38 "template/en/custom/attachment/diff-file.html.tmpl"
    if ($stash->get(['file', 0, 'minus_lines', 0])) {
    $output .=  "\n      (-";
    #line 35 "template/en/custom/attachment/diff-file.html.tmpl"
    $output .=  $stash->get(['file', 0, 'minus_lines', 0]);
    $output .=  "&nbsp;/&nbsp;+";
    #line 35 "template/en/custom/attachment/diff-file.html.tmpl"
    $output .=  $stash->get(['file', 0, 'plus_lines', 0]);
    $output .=  "&nbsp;lines)";
    }
    else {
    $output .=  "\n      (+";
    #line 37 "template/en/custom/attachment/diff-file.html.tmpl"
    $output .=  $stash->get(['file', 0, 'plus_lines', 0]);
    $output .=  "&nbsp;lines)";
    }
    
    }
    else {
    #line 42 "template/en/custom/attachment/diff-file.html.tmpl"
    if ($stash->get(['file', 0, 'minus_lines', 0])) {
    $output .=  "\n      (-";
    #line 41 "template/en/custom/attachment/diff-file.html.tmpl"
    $output .=  $stash->get(['file', 0, 'minus_lines', 0]);
    $output .=  "&nbsp;lines)";
    }
    
    }
    
    $output .=  "\n</td></tr></thead><tbody class=\"";
    #line 44 "template/en/custom/attachment/diff-file.html.tmpl"
    $output .=  $stash->get('collapsed') ? 'file_collapse' : 'file';
    $output .=  "\">\n<script type=\"text/javascript\">\nincremental_restore()\n</script>\n";
    #line 49 "template/en/custom/attachment/diff-file.html.tmpl"
    $stash->set('section_num', 0);
    #line 133 "template/en/custom/attachment/diff-file.html.tmpl"
    
    # FOREACH 
    do {
        my ($value, $error, $oldloop);
        my $list = $stash->get('sections');
        
        unless (UNIVERSAL::isa($list, 'Template::Iterator')) {
            $list = Template::Config->iterator($list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($value, $error) = $list->get_first();
        eval { $oldloop = $stash->get('loop') };
        $stash->set('loop', $list);
        eval {
    LOOP:   while (! $error) {
                $stash->{'section'} = $value;
    #line 51 "template/en/custom/attachment/diff-file.html.tmpl"
    $stash->set('section_num', $stash->get('section_num') + 1);
    $output .=  "\n  <tr><th colspan=\"2\" class=\"section_head\">\n    <table cellpadding=\"0\" cellspacing=\"0\">\n    <tr><th width=\"95%\" align=\"left\">";
    #line 77 "template/en/custom/attachment/diff-file.html.tmpl"
    if ($stash->get(['file', 0, 'is_add', 0])) {
    $output .=  "\n    Added";
    }
    elsif ($stash->get(['file', 0, 'is_remove', 0])) {
    #line 62 "template/en/custom/attachment/diff-file.html.tmpl"
    if ($stash->get('bonsai_prefix')) {
    $output .=  "\n      <a href=\"";
    #line 59 "template/en/custom/attachment/diff-file.html.tmpl"
    $output .=  $stash->get('bonsai_prefix');
    $output .=  "\">Removed</a>";
    }
    else {
    $output .=  "\n      Removed";
    }
    
    }
    else {
    #line 66 "template/en/custom/attachment/diff-file.html.tmpl"
    if ($stash->get('bonsai_prefix')) {
    $output .=  "\n      <a href=\"";
    #line 65 "template/en/custom/attachment/diff-file.html.tmpl"
    $output .=  $stash->get('bonsai_prefix');
    $output .=  "#";
    #line 65 "template/en/custom/attachment/diff-file.html.tmpl"
    $output .=  $stash->get(['section', 0, 'old_start', 0]);
    $output .=  "\">";
    }
    
    #line 72 "template/en/custom/attachment/diff-file.html.tmpl"
    if ($stash->get(['section', 0, 'old_lines', 0]) > 1) {
    $output .=  "\n      &nbsp;Lines&nbsp;";
    #line 68 "template/en/custom/attachment/diff-file.html.tmpl"
    $output .=  $stash->get(['section', 0, 'old_start', 0]);
    $output .=  "-";
    #line 68 "template/en/custom/attachment/diff-file.html.tmpl"
    $output .=  $stash->get(['section', 0, 'old_start', 0]) + $stash->get(['section', 0, 'old_lines', 0]) - 1;
    }
    else {
    $output .=  "\n      Line&nbsp;";
    #line 71 "template/en/custom/attachment/diff-file.html.tmpl"
    $output .=  $stash->get(['section', 0, 'old_start', 0]);
    }
    
    #line 75 "template/en/custom/attachment/diff-file.html.tmpl"
    if ($stash->get('bonsai_prefix')) {
    $output .=  "\n      </a>";
    }
    
    $output .=  "\n    &nbsp;&nbsp;";
    #line 76 "template/en/custom/attachment/diff-file.html.tmpl"
    if ($stash->get(['section', 0, 'func_info', 0])) {
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['section', 0, 'func_info', 0]);
        
        &$filter($output);
    };
    
    }
    
    }
    
    $output .=  " \n    </th><th>\n  <a name=\"";
    #line 79 "template/en/custom/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['file', 0, 'filename', 0]);
        
        &$filter($output);
    };
    
    $output .=  "_sec";
    #line 79 "template/en/custom/attachment/diff-file.html.tmpl"
    $output .=  $stash->get('section_num');
    $output .=  "\" href=\"#";
    #line 79 "template/en/custom/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['file', 0, 'filename', 0]);
        
        &$filter($output);
    };
    
    $output .=  "_sec";
    #line 79 "template/en/custom/attachment/diff-file.html.tmpl"
    $output .=  $stash->get('section_num');
    $output .=  "\">Link&nbsp;Here</a>&nbsp;\n    </th></tr></table>\n  </th></tr>";
    #line 132 "template/en/custom/attachment/diff-file.html.tmpl"
    
    # FOREACH 
    do {
        my ($value, $error, $oldloop);
        my $list = $stash->get(['section', 0, 'groups', 0]);
        
        unless (UNIVERSAL::isa($list, 'Template::Iterator')) {
            $list = Template::Config->iterator($list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($value, $error) = $list->get_first();
        eval { $oldloop = $stash->get('loop') };
        $stash->set('loop', $list);
        eval {
    LOOP:   while (! $error) {
                $stash->{'group'} = $value;
    #line 87 "template/en/custom/attachment/diff-file.html.tmpl"
    if ($stash->get(['group', 0, 'context', 0])) {
    #line 86 "template/en/custom/attachment/diff-file.html.tmpl"
    
    # FOREACH 
    do {
        my ($value, $error, $oldloop);
        my $list = $stash->get(['group', 0, 'context', 0]);
        
        unless (UNIVERSAL::isa($list, 'Template::Iterator')) {
            $list = Template::Config->iterator($list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($value, $error) = $list->get_first();
        eval { $oldloop = $stash->get('loop') };
        $stash->set('loop', $list);
        eval {
    LOOP:   while (! $error) {
                $stash->{'line'} = $value;
    $output .=  "\n        <tr><td><pre>";
    #line 85 "template/en/custom/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('line');
        
        &$filter($output);
    };
    
    $output .=  "</pre></td><td><pre>";
    #line 85 "template/en/custom/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('line');
        
        &$filter($output);
    };
    
    $output .=  "</pre></td></tr>";;
                ($value, $error) = $list->get_next();
            }
        };
        $stash->set('loop', $oldloop);
        die $@ if $@;
        $error = 0 if $error && $error eq Template::Constants::STATUS_DONE;
        die $error if $error;
    };
    
    }
    
    #line 131 "template/en/custom/attachment/diff-file.html.tmpl"
    if ($stash->get(['group', 0, 'plus', 0, 'size', 0])) {
    #line 115 "template/en/custom/attachment/diff-file.html.tmpl"
    if ($stash->get(['group', 0, 'minus', 0, 'size', 0])) {
    #line 90 "template/en/custom/attachment/diff-file.html.tmpl"
    $stash->set('i', 0);
    #line 101 "template/en/custom/attachment/diff-file.html.tmpl"
    
    # WHILE
    do {
        my $failsafe = 1000000;
    LOOP:
        while (--$failsafe && (($stash->get('i') < $stash->get(['group', 0, 'plus', 0, 'size', 0]) || $stash->get('i') < $stash->get(['group', 0, 'minus', 0, 'size', 0])))) {
    #line 92 "template/en/custom/attachment/diff-file.html.tmpl"
    $stash->set('currentloop', 0);
    #line 100 "template/en/custom/attachment/diff-file.html.tmpl"
    
    # WHILE
    do {
        my $failsafe = 1000000;
    LOOP:
        while (--$failsafe && ($stash->get('currentloop') < 500 && ($stash->get('i') < $stash->get(['group', 0, 'plus', 0, 'size', 0]) || $stash->get('i') < $stash->get(['group', 0, 'minus', 0, 'size', 0])))) {
    $output .=  "\n            <tr class=\"changed\">\n              <td><pre>";
    #line 95 "template/en/custom/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['group', 0, 'minus', 0, $stash->get('i'), 0]);
        
        &$filter($output);
    };
    
    $output .=  "</pre></td>\n              <td><pre>";
    #line 96 "template/en/custom/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get(['group', 0, 'plus', 0, $stash->get('i'), 0]);
        
        &$filter($output);
    };
    
    $output .=  "</pre></td>\n            </tr>";
    #line 98 "template/en/custom/attachment/diff-file.html.tmpl"
    $stash->set('currentloop', $stash->get('currentloop') + 1);
    #line 99 "template/en/custom/attachment/diff-file.html.tmpl"
    $stash->set('i', $stash->get('i') + 1);
        }
        die "WHILE loop terminated (> 1000000 iterations)\n"
            unless $failsafe;
    };
    
        }
        die "WHILE loop terminated (> 1000000 iterations)\n"
            unless $failsafe;
    };
    
    }
    else {
    #line 114 "template/en/custom/attachment/diff-file.html.tmpl"
    
    # FOREACH 
    do {
        my ($value, $error, $oldloop);
        my $list = $stash->get(['group', 0, 'plus', 0]);
        
        unless (UNIVERSAL::isa($list, 'Template::Iterator')) {
            $list = Template::Config->iterator($list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($value, $error) = $list->get_first();
        eval { $oldloop = $stash->get('loop') };
        $stash->set('loop', $list);
        eval {
    LOOP:   while (! $error) {
                $stash->{'line'} = $value;
    #line 113 "template/en/custom/attachment/diff-file.html.tmpl"
    if ($stash->get(['file', 0, 'is_add', 0])) {
    $output .=  "\n            <tr>\n              <td class=\"added\" colspan=\"2\"><pre>";
    #line 106 "template/en/custom/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('line');
        
        &$filter($output);
    };
    
    $output .=  "</pre></td>\n            </tr>";
    }
    else {
    $output .=  "\n            <tr>\n              <td></td>\n              <td class=\"added\"><pre>";
    #line 111 "template/en/custom/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('line');
        
        &$filter($output);
    };
    
    $output .=  "</pre></td>\n            </tr>";
    }
    ;
                ($value, $error) = $list->get_next();
            }
        };
        $stash->set('loop', $oldloop);
        die $@ if $@;
        $error = 0 if $error && $error eq Template::Constants::STATUS_DONE;
        die $error if $error;
    };
    
    }
    
    }
    else {
    #line 130 "template/en/custom/attachment/diff-file.html.tmpl"
    if ($stash->get(['group', 0, 'minus', 0, 'size', 0])) {
    #line 129 "template/en/custom/attachment/diff-file.html.tmpl"
    
    # FOREACH 
    do {
        my ($value, $error, $oldloop);
        my $list = $stash->get(['group', 0, 'minus', 0]);
        
        unless (UNIVERSAL::isa($list, 'Template::Iterator')) {
            $list = Template::Config->iterator($list)
                || die $Template::Config::ERROR, "\n"; 
        }
    
        ($value, $error) = $list->get_first();
        eval { $oldloop = $stash->get('loop') };
        $stash->set('loop', $list);
        eval {
    LOOP:   while (! $error) {
                $stash->{'line'} = $value;
    #line 128 "template/en/custom/attachment/diff-file.html.tmpl"
    if ($stash->get(['file', 0, 'is_remove', 0])) {
    $output .=  "\n            <tr>\n              <td class=\"removed\" colspan=\"2\"><pre>";
    #line 121 "template/en/custom/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('line');
        
        &$filter($output);
    };
    
    $output .=  "</pre></td>\n            </tr>";
    }
    else {
    $output .=  "\n            <tr>\n              <td class=\"removed\"><pre>";
    #line 125 "template/en/custom/attachment/diff-file.html.tmpl"
    
    # FILTER
    $output .=  do {
        my $output = '';
        my $filter = $context->filter('html')
                  || $context->throw($context->error);
    
    $output .=  $stash->get('line');
        
        &$filter($output);
    };
    
    $output .=  "</pre></td>\n              <td></td>\n            </tr>";
    }
    ;
                ($value, $error) = $list->get_next();
            }
        };
        $stash->set('loop', $oldloop);
        die $@ if $@;
        $error = 0 if $error && $error eq Template::Constants::STATUS_DONE;
        die $error if $error;
    };
    
    }
    
    }
    ;
                ($value, $error) = $list->get_next();
            }
        };
        $stash->set('loop', $oldloop);
        die $@ if $@;
        $error = 0 if $error && $error eq Template::Constants::STATUS_DONE;
        die $error if $error;
    };
    ;
                ($value, $error) = $list->get_next();
            }
        };
        $stash->set('loop', $oldloop);
        die $@ if $@;
        $error = 0 if $error && $error eq Template::Constants::STATUS_DONE;
        die $error if $error;
    };
    
    $output .=  "\n\n</table>\n";
        } };
        if ($@) {
            $error = $context->catch($@, \$output);
            die $error unless $error->type eq 'return';
        }
    
        return $output;
    },
    DEFBLOCKS => {

    },
});
