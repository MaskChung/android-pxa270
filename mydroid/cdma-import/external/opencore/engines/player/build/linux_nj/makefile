include $(PV_TOP)/makefile.pv

WHAT = module
TARGET = pv

export FORMAT=nj
LIBDIRS = \
    ../../../../oscl/oscl/osclbase/build/make \
    ../../../../oscl/oscl/osclerror/build/make \
    ../../../../oscl/oscl/osclmemory/build/make \
    ../../../../oscl/oscl/osclutil/build/make \
    ../../../../oscl/pvlogger/build/make \
    ../../../../oscl/oscl/osclproc/build/make \
    ../../../../oscl/oscl/osclio/build/make \
    ../../../../oscl/oscl/osclregcli/build/make \
    ../../../../oscl/oscl/osclregserv/build/make \
    ../../../../oscl/unit_test/build/make \
    ../../../../oscl/oscl/oscllib/build/make \
    ../../../../codecs_v2/audio/aac/dec/util/getactualaacconfig/build/make \
    ../../../../codecs_v2/video/avc_h264/dec/build/make \
    ../../../../codecs_v2/video/avc_h264/common/build/make \
    ../../../../codecs_v2/audio/aac/dec/build/make \
    ../../../../codecs_v2/audio/gsm_amr/amr_nb/dec/build/make \
    ../../../../codecs_v2/audio/gsm_amr/amr_nb/common/build/make \
    ../../../../codecs_v2/audio/gsm_amr/amr_wb/dec/build/make \
    ../../../../codecs_v2/audio/gsm_amr/common/dec/build/make \
    ../../../../codecs_v2/audio/mp3/dec/build/make \
    ../../../../codecs_v2/audio/wma/dec/build/make \
    ../../../../codecs_v2/video/m4v_h263/dec/build/make \
    ../../../../codecs_v2/video/wmv_vc1/dec/build/make \
    ../../../../codecs_v2/utilities/m4v_config_parser/build/make \
    ../../../../codecs_v2/utilities/pv_video_config_parser/build/make \
    ../../../../codecs_v2/utilities/colorconvert/build/make \
    ../../../../codecs_v2/omx/omx_common/build/make_multithreaded \
    ../../../../codecs_v2/omx/omx_queue/build/make \
    ../../../../codecs_v2/omx/omx_aac/build/make_multithreaded \
    ../../../../codecs_v2/omx/omx_amr/build/make_multithreaded \
    ../../../../codecs_v2/omx/omx_mp3/build/make_multithreaded \
    ../../../../codecs_v2/omx/omx_h264/build/make_multithreaded \
    ../../../../codecs_v2/omx/omx_m4v/build/make_multithreaded \
    ../../../../codecs_v2/omx/omx_wmv/build/make_multithreaded \
    ../../../../codecs_v2/omx/omx_proxy/build/make \
    ../../../../codecs_v2/omx/factories/omx_m4v_factory/build/make \
    ../../../../codecs_v2/omx/factories/omx_wmv_factory/build/make \
    ../../../../baselibs/threadsafe_callback_ao/build/make \
    ../../../../baselibs/media_data_structures/build/make \
    ../../../../baselibs/gen_data_structures/build/make \
    ../../../../baselibs/gen_data_structures/bitstreamparser/build/make \
    ../../../../baselibs/pv_mime_utils/build/make \
    ../../../../baselibs/pvcrypto/build/make \
    ../../../../baselibs/csprng/build/make \
    ../../../../baselibs/entropy_source/oscl/build/make \
    ../../../../pvmi/pvmf/build/make \
    ../../../../nodes/common/build/make \
    ../../../../pvmi/content_policy_manager/build/make \
    ../../../../pvmi/content_policy_manager/plugins/oma1/passthru/build/make \
    ../../../../pvmi/content_policy_manager/plugins/common/build/make \
    ../../../../pvmi/media_io/pvmiofileoutput/build/make \
    ../../../../protocols/rtp/build/make \
    ../../../../protocols/rtp_payload_parser/util/build/latmparser/make \
    ../../../../protocols/sdp/parser/build/make \
    ../../../../protocols/rtcp/build/make \
    ../../../../protocols/rtp_payload_parser/build/linux_3gpp \
    ../../../../protocols/rtsp_parcom/build/make \
    ../../../../protocols/rtsp_client_engine/build/make_3gpp \
    ../../../../protocols/http_parcom/build/make \
    ../../../../fileformats/common/parser/build/make \
    ../../../../fileformats/id3parcom/build/make \
    ../../../../fileformats/rawgsmamr/parser/build/make \
    ../../../../fileformats/mp3/parser/build/make \
    ../../../../fileformats/mp4/parser/build/make \
    ../../../../fileformats/rawaac/parser/build/make \
    ../../../../fileformats/pvx/parser/build/make \
    ../../../../fileformats/wav/parser/build/make \
    ../../../../fileformats/asf/parser/build/make \
    ../../../../nodes/pvaacffparsernode/build/make \
    ../../../../nodes/pvwmadecnode/build/make \
    ../../../../nodes/pvmp3ffparsernode/build/make \
    ../../../../nodes/pvasfffparsernode/build/make \
    ../../../../nodes/pvamrffparsernode/build/make \
    ../../../../nodes/pvmp4ffparsernode/build/make \
    ../../../../nodes/pvsocketnode/build/make \
    ../../../../nodes/pvdownloadmanagernode/build/make \
    ../../../../nodes/pvprotocolenginenode/build/make \
    ../../../../nodes/streaming/jitterbuffernode/build/make \
    ../../../../nodes/streaming/medialayernode/build/make \
    ../../../../nodes/streaming/streamingmanager/build/linux_3gpp \
    ../../../../nodes/pvmediaoutputnode/build/make \
    ../../../../nodes/pvfileoutputnode/build/make \
    ../../../../nodes/pvomxaudiodecnode/build/make \
    ../../../../nodes/pvomxvideodecnode/build/make \
    ../../../../nodes/pvwavffparsernode/build/make \
    ../../../../pvmi/recognizer/build/make \
    ../../../../pvmi/recognizer/plugins/pvamrffrecognizer/build/make \
    ../../../../pvmi/recognizer/plugins/pvmp3ffrecognizer/build/make \
    ../../../../pvmi/recognizer/plugins/pvasfffrecognizer/build/make \
    ../../../../pvmi/recognizer/plugins/pvmp4ffrecognizer/build/make \
    ../../../../pvmi/recognizer/plugins/pvwavffrecognizer/build/make \
    ../../../../engines/common/build/make \
    ../../../../pvmi/recognizer/build/make \
    ../../../../engines/common/build/make \
    ../../../../engines/adapters/player/framemetadatautility/build/make \
    ../make \
    ../../../../pvmi/database/build/make \

LIBS = \
    -lpvplayer_engine \
    -lpvfileoutputnode \
    -lpvasfffparsernode \
    -lpvmp3ffparsernode \
    -lpvwmadecnode \
    -lpvdownloadmanagernode \
    -lpvmp4ffparsernode \
    -lcpm \
    -lpassthru_oma1 \
    -lpvaacffparsernode \
    -lpvmp3ff \
    -lpvasfff \
    -lpvmp4ff \
    -lpvaacparser \
    -lgetactualaacconfig \
    -lomx_mp3_component_lib \
    -lpvmp3 \
    -lwmadecoder \
    -lpvwavffparsernode \
    -lpvwav \
    -lpvomxaudiodecnode \
    -lpvomxvideodecnode \
    -lpv_video_config_parser \
    -lm4v_config \
    -lpvlogger \
    -lpvstreamingmanagernode_3gpp \
    -lpvjitterbuffernode \
    -lpvmediaplayernode \
    -lrtprtcp \
    -lpvrtsp_cli_eng_node_3gpp \
    -lprotocolenginenode \
    -lpv_http_parcom \
    -lpvsocketnode \
    -lrtppayloadparser_3gpp \
    -lpvmf \
    -lpvsdpparser \
    -lpv_rtsp_parcom \
    -lomx_common_lib \
    -lomx_avc_component_lib \
    -lpvavcdecoder \
    -lpv_avc_common_lib \
    -lomx_m4v_component_lib \
    -lpvmp4decoder \
    -lomx_wmv_component_lib \
    -lwmvdecoder \
    -lomx_amr_component_lib \
    -lpvdecoder_gsmamr \
    -lpv_amr_nb_common_lib \
    -lpvamrwbdecoder \
    -lomx_aac_component_lib \
    -lpv_aac_dec \
    -lfile_mediaio \
    -lpvgendatastruct \
    -lpvmimeutils \
    -lpvmediaoutputnode \
    -lpvmediadatastruct \
    -lpvamrffparsernode \
    -lpvgsmamrparser \
    -lpvlatmpayloadparser \
    -lpvmfrecognizer \
    -lpvamrffrecognizer \
    -lpvmp3ffrecognizer \
    -lpvasfffrecognizer \
    -lpvmp4ffrecognizer \
    -lpvwavffrecognizer \
    -lpvfileparserutils \
    -lpvid3parcom \
    -lpvdbmanager \
    -lcsprng \
    -lpvcrypto \
    -lpventropysrc \
    -losclregcli \
    -losclregserv \
    -losclio \
    -loscllib \
    -losclproc \
    -losclutil \
    -losclmemory \
    -losclerror \
    -losclbase \
    -lpvomx_proxy_lib \
    -lomx_queue_lib \
    -lthreadsafe_callback_ao \


# use --allow-multiple-definition to get around aac decoder and
# getactualaacconfig building the same code
XLDFLAGS += -Wl,--allow-multiple-definition

DESTDIR = $(SDK_LOCAL)/installed_lib/$(BUILD_ARCH)
INCDESTDIR = $(SDK_LOCAL)/installed_include
include $(MK)/gnumake.template
